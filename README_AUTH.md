# نظام حماية الصفحات - Angular Portal Geomakani

## نظرة عامة
تم إضافة نظام حماية للصفحات بحيث لا يمكن الوصول إلى صفحة `home` إلا بعد تسجيل الدخول بنجاح.

## الملفات المضافة/المعدلة

### 1. AuthService (`src/app/services/auth.service.ts`)
- خدمة لإدارة حالة تسجيل الدخول
- تخزين واسترجاع بيانات المستخدم من localStorage
- إدارة token المصادقة

### 2. AuthGuard (`src/app/guards/auth.guard.ts`)
- حماية المسارات التي تتطلب تسجيل دخول
- توجيه المستخدمين غير المسجلين إلى صفحة تسجيل الدخول

### 3. تحديث LoginComponent
- استخدام AuthService بدلاً من المنطق المباشر
- تحسين عملية تسجيل الدخول

### 4. تحديث HomeComponent
- إضافة زر تسجيل الخروج
- عرض اسم المستخدم
- استخدام AuthService لإدارة الجلسة

### 5. تحديث AppRoutingModule
- إضافة AuthGuard لحماية مسار `/home`

## كيفية الاستخدام

### تسجيل الدخول
- اسم المستخدم: `admin`
- كلمة المرور: `admin`

### الميزات
1. **حماية الصفحات**: لا يمكن الوصول إلى `/home` بدون تسجيل دخول
2. **استمرارية الجلسة**: يتم حفظ حالة تسجيل الدخول في localStorage
3. **تسجيل الخروج**: زر لتسجيل الخروج وحذف بيانات الجلسة
4. **عرض اسم المستخدم**: يظهر اسم المستخدم في الواجهة

## الأمان
⚠️ **ملاحظة مهمة**: هذا مثال توضيحي. في الإنتاج يجب:
- استخدام HTTPS
- تشفير كلمات المرور
- استخدام JWT tokens آمنة
- إضافة CSRF protection
- التحقق من صحة المدخلات
- استخدام قاعدة بيانات للمستخدمين

## التطوير المستقبلي
- إضافة صفحة تسجيل مستخدمين جدد
- إدارة الأدوار والصلاحيات
- إعادة تعيين كلمة المرور
- تسجيل الدخول بـ OAuth
- إضافة CAPTCHA 